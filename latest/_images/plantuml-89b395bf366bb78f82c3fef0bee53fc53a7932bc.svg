<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="365px" preserveAspectRatio="none" style="width:630px;height:365px;" version="1.1" viewBox="0 0 630 365" width="630px" zoomAndPan="magnify"><defs><filter height="300%" id="fumzfziyk4w5b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class dma--><rect fill="#FFFFFF" filter="url(#fumzfziyk4w5b)" height="52.8047" id="dma" style="stroke: #33335B; stroke-width: 1.5;" width="196" x="423.5" y="72"/><ellipse cx="503.75" cy="88" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M506.7188,93.6406 Q506.1406,93.9375 505.5,94.0781 Q504.8594,94.2344 504.1563,94.2344 Q501.6563,94.2344 500.3281,92.5938 Q499.0156,90.9375 499.0156,87.8125 Q499.0156,84.6875 500.3281,83.0313 Q501.6563,81.375 504.1563,81.375 Q504.8594,81.375 505.5,81.5313 Q506.1563,81.6875 506.7188,81.9844 L506.7188,84.7031 Q506.0938,84.125 505.5,83.8594 Q504.9063,83.5781 504.2813,83.5781 Q502.9375,83.5781 502.25,84.6563 Q501.5625,85.7188 501.5625,87.8125 Q501.5625,89.9063 502.25,90.9844 Q502.9375,92.0469 504.2813,92.0469 Q504.9063,92.0469 505.5,91.7813 Q506.0938,91.5 506.7188,90.9219 L506.7188,93.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="524.25" y="92.1543">dma</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="424.5" x2="618.5" y1="104" y2="104"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="429.5" y="118.2104">dma_get(dmac_id) : struct dma*</text><!--class dma_ops--><rect fill="#FFFFFF" filter="url(#fumzfziyk4w5b)" height="180.8516" id="dma_ops" style="stroke: #33335B; stroke-width: 1.5;" width="133" x="6" y="8"/><ellipse cx="41.25" cy="24" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M44.2188,29.6406 Q43.6406,29.9375 43,30.0781 Q42.3594,30.2344 41.6563,30.2344 Q39.1563,30.2344 37.8281,28.5938 Q36.5156,26.9375 36.5156,23.8125 Q36.5156,20.6875 37.8281,19.0313 Q39.1563,17.375 41.6563,17.375 Q42.3594,17.375 43,17.5313 Q43.6563,17.6875 44.2188,17.9844 L44.2188,20.7031 Q43.5938,20.125 43,19.8594 Q42.4063,19.5781 41.7813,19.5781 Q40.4375,19.5781 39.75,20.6563 Q39.0625,21.7188 39.0625,23.8125 Q39.0625,25.9063 39.75,26.9844 Q40.4375,28.0469 41.7813,28.0469 Q42.4063,28.0469 43,27.7813 Q43.5938,27.5 44.2188,26.9219 L44.2188,29.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="59.75" y="28.1543">dma_ops</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="7" x2="138" y1="40" y2="40"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="12" y="54.2104">channel_get()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="12" y="67.0151">channel_put()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="12" y="79.8198">start()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="12" y="92.6245">stop()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="105.4292">pause()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="12" y="118.2339">release()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="12" y="131.0386">status()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="12" y="143.8433">set_config()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="12" y="156.6479">set_cb()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="12" y="169.4526">pm_context_restore()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="12" y="182.2573">probe()</text><!--class dma_plat_data--><rect fill="#FFFFFF" filter="url(#fumzfziyk4w5b)" height="104.0234" id="dma_plat_data" style="stroke: #33335B; stroke-width: 1.5;" width="133" x="187" y="250"/><ellipse cx="206.05" cy="266" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M209.0188,271.6406 Q208.4406,271.9375 207.8,272.0781 Q207.1594,272.2344 206.4563,272.2344 Q203.9563,272.2344 202.6281,270.5938 Q201.3156,268.9375 201.3156,265.8125 Q201.3156,262.6875 202.6281,261.0313 Q203.9563,259.375 206.4563,259.375 Q207.1594,259.375 207.8,259.5313 Q208.4563,259.6875 209.0188,259.9844 L209.0188,262.7031 Q208.3938,262.125 207.8,261.8594 Q207.2063,261.5781 206.5813,261.5781 Q205.2375,261.5781 204.55,262.6563 Q203.8625,263.7188 203.8625,265.8125 Q203.8625,267.9063 204.55,268.9844 Q205.2375,270.0469 206.5813,270.0469 Q207.2063,270.0469 207.8,269.7813 Q208.3938,269.5 209.0188,268.9219 L209.0188,271.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="220.95" y="270.1543">dma_plat_data</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="188" x2="319" y1="282" y2="282"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="193" y="296.2104">id : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="193" y="309.0151">base : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="193" y="321.8198">channels : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="193" y="334.6245">irq : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="193" y="347.4292">drv_plat_data : void *</text><!--class s_dma--><rect fill="#FFFFFF" filter="url(#fumzfziyk4w5b)" height="91.2188" id="s_dma" style="stroke: #33335B; stroke-width: 1.5;" width="159" x="174" y="53"/><ellipse cx="215.55" cy="69" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M218.5188,74.6406 Q217.9406,74.9375 217.3,75.0781 Q216.6594,75.2344 215.9563,75.2344 Q213.4563,75.2344 212.1281,73.5938 Q210.8156,71.9375 210.8156,68.8125 Q210.8156,65.6875 212.1281,64.0313 Q213.4563,62.375 215.9563,62.375 Q216.6594,62.375 217.3,62.5313 Q217.9563,62.6875 218.5188,62.9844 L218.5188,65.7031 Q217.8938,65.125 217.3,64.8594 Q216.7063,64.5781 216.0813,64.5781 Q214.7375,64.5781 214.05,65.6563 Q213.3625,66.7188 213.3625,68.8125 Q213.3625,70.9063 214.05,71.9844 Q214.7375,73.0469 216.0813,73.0469 Q216.7063,73.0469 217.3,72.7813 Q217.8938,72.5 218.5188,71.9219 L218.5188,74.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="235.45" y="73.1543">struct dma</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="175" x2="332" y1="85" y2="85"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="180" y="99.2104">plat_data : dma_plat_data</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="180" y="112.0151">lock : spinlock_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="180" y="124.8198">ops : const dma_ops *</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="180" y="137.6245">private : void *</text><!--link dma_ops to s_dma--><path d="M139.3145,98.5 C150.7627,98.5 162.211,98.5 173.6593,98.5 " fill="none" id="dma_ops-s_dma" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--link s_dma to dma_plat_data--><path d="M253.5,144.1694 C253.5,175.4577 253.5,217.0347 253.5,249.6608 " fill="none" id="s_dma-dma_plat_data" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--link s_dma to dma--><path d="M338.1852,98.5 C365.1734,98.5 395.2632,98.5 423.135,98.5 " fill="none" id="s_dma-dma" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="333.1832,98.5,342.1832,102.5,338.1832,98.5,342.1832,94.5,333.1832,98.5" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="351.25" y="91.5669">provides</text><!--
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
class dma {
	dma_get(dmac_id) : struct dma*
}
hide dma attributes

class dma_ops {
	channel_get()
	channel_put()
	start()
	stop()
	pause()
	release()
	status()
	set_config()
	set_cb()
	pm_context_restore()
	probe()
}
hide dma_ops attributes

class dma_plat_data {
	id : uint32_t
	base : uint32_t
	channels : uint32_t
	irq : uint32_t
	drv_plat_data : void *
}
hide dma_plat_data methods

class "struct dma" as s_dma {
	plat_data : dma_plat_data
	lock : spinlock_t
	ops : const dma_ops *
	private : void *
}
hide s_dma methods

dma_ops - s_dma
s_dma - - dma_plat_data
s_dma <- dma : provides

@enduml

PlantUML version 1.2018.06(Mon May 21 03:34:53 PDT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 10.0.2+13-Ubuntu-1ubuntu0.18.04.1
Operating System: Linux
OS Version: 4.15.0-33-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>