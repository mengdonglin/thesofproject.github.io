<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="294px" preserveAspectRatio="none" style="width:710px;height:294px;" version="1.1" viewBox="0 0 710 294" width="710px" zoomAndPan="magnify"><defs><filter height="300%" id="fw60vk8wl0db9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster component-mgmt--><polygon fill="#FFFFFF" filter="url(#fw60vk8wl0db9)" points="14,16,159,16,166,38.2969,431,38.2969,431,182,14,182,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="166" y1="38.2969" y2="38.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="18" y="30.9951">component-mgmt</text><!--class component API--><rect fill="#FFFFFF" filter="url(#fw60vk8wl0db9)" height="130.7656" id="component API" style="stroke: #33335B; stroke-width: 1.5;" width="205" x="21.5" y="43"/><ellipse cx="72.75" cy="61.9688" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M75.7188,67.6094 Q75.1406,67.9063 74.5,68.0469 Q73.8594,68.2031 73.1563,68.2031 Q70.6563,68.2031 69.3281,66.5625 Q68.0156,64.9063 68.0156,61.7813 Q68.0156,58.6563 69.3281,57 Q70.6563,55.3438 73.1563,55.3438 Q73.8594,55.3438 74.5,55.5 Q75.1563,55.6563 75.7188,55.9531 L75.7188,58.6719 Q75.0938,58.0938 74.5,57.8281 Q73.9063,57.5469 73.2813,57.5469 Q71.9375,57.5469 71.25,58.625 Q70.5625,59.6875 70.5625,61.7813 Q70.5625,63.875 71.25,64.9531 Q71.9375,66.0156 73.2813,66.0156 Q73.9063,66.0156 74.5,65.75 Q75.0938,65.4688 75.7188,64.8906 L75.7188,67.6094 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="38" x="121.25" y="59.1387">«unit»</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="93.25" y="73.1074">component API</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="22.5" x2="225.5" y1="80.9375" y2="80.9375"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="12" x="27.5" y="95.1479">...</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="22.5" x2="225.5" y1="101.7422" y2="101.7422"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="27.5" y="115.9526">comp_new(sof_ipc_comp*)</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="27.5" y="128.7573">comp_register(comp_driver*)</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="27.5" y="141.562">comp_unregister(comp_driver*)</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="27.5" y="154.3667">comp_set_state(comp_dev*, cmd)</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="27.5" y="167.1714">sys_comp_init(void)</text><!--class comp_data--><rect fill="#FFFFFF" filter="url(#fw60vk8wl0db9)" height="52.8047" id="comp_data" style="stroke: #33335B; stroke-width: 1.5;" width="101" x="321.5" y="82"/><ellipse cx="336.5" cy="98" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M339.4688,103.6406 Q338.8906,103.9375 338.25,104.0781 Q337.6094,104.2344 336.9063,104.2344 Q334.4063,104.2344 333.0781,102.5938 Q331.7656,100.9375 331.7656,97.8125 Q331.7656,94.6875 333.0781,93.0313 Q334.4063,91.375 336.9063,91.375 Q337.6094,91.375 338.25,91.5313 Q338.9063,91.6875 339.4688,91.9844 L339.4688,94.7031 Q338.8438,94.125 338.25,93.8594 Q337.6563,93.5781 337.0313,93.5781 Q335.6875,93.5781 335,94.6563 Q334.3125,95.7188 334.3125,97.8125 Q334.3125,99.9063 335,100.9844 Q335.6875,102.0469 337.0313,102.0469 Q337.6563,102.0469 338.25,101.7813 Q338.8438,101.5 339.4688,100.9219 L339.4688,103.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="350.5" y="102.1543">comp_data</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="322.5" x2="421.5" y1="114" y2="114"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="327.5" y="128.2104">list</text><path d="M458,88.5 L458,104.5 L422.6953,108.5 L458,112.5 L458,128.7656 A0,0 0 0 0 458,128.7656 L698,128.7656 A0,0 0 0 0 698,128.7656 L698,98.5 L688,88.5 L458,88.5 A0,0 0 0 0 458,88.5 " fill="#F6ED80" filter="url(#fw60vk8wl0db9)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M688,88.5 L688,98.5 L698,98.5 L688,88.5 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="464" y="105.5669">Singleton allocated in RZONE_SYS</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="464" y="120.6997">by sys_comp_init()</text><!--class comp_driver--><rect fill="#FFFFFF" filter="url(#fw60vk8wl0db9)" height="32" id="comp_driver" style="stroke: #33335B; stroke-width: 1.5;" width="107" x="194.5" y="251"/><ellipse cx="209.5" cy="267" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M212.4688,272.6406 Q211.8906,272.9375 211.25,273.0781 Q210.6094,273.2344 209.9063,273.2344 Q207.4063,273.2344 206.0781,271.5938 Q204.7656,269.9375 204.7656,266.8125 Q204.7656,263.6875 206.0781,262.0313 Q207.4063,260.375 209.9063,260.375 Q210.6094,260.375 211.25,260.5313 Q211.9063,260.6875 212.4688,260.9844 L212.4688,263.7031 Q211.8438,263.125 211.25,262.8594 Q210.6563,262.5781 210.0313,262.5781 Q208.6875,262.5781 208,263.6563 Q207.3125,264.7188 207.3125,266.8125 Q207.3125,268.9063 208,269.9844 Q208.6875,271.0469 210.0313,271.0469 Q210.6563,271.0469 211.25,270.7813 Q211.8438,270.5 212.4688,269.9219 L212.4688,272.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="223.5" y="271.1543">comp_driver</text><!--link component API to comp_data--><path d="M226.6613,108.5 C257.2682,108.5 289.6634,108.5 316.0828,108.5 " fill="none" id="component API-comp_data" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="321.2847,108.5,312.2847,104.5,316.2847,108.5,312.2847,112.5,321.2847,108.5" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="245" y="101.5669">drv_get()</text><!--link component API to comp_driver--><path d="M128.0717,179.3487 C131.6433,194.2762 137.5158,209.0912 147,221 C158.9433,235.9966 176.8603,246.2847 194.303,253.259 " fill="none" id="component API-comp_driver" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="126.9468,174.286,124.9946,183.9394,128.0315,179.1669,132.804,182.2039,126.9468,174.286" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="148" y="217.0669">registers in comp_register()</text><!--link comp_driver to comp_data--><path d="M292.6939,250.9678 C307.5409,243.7666 323.0572,233.9211 334,221 C351.3742,200.4848 360.9081,171.6781 366.081,148.3507 " fill="none" id="comp_driver-comp_data" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="368.6491,135.3532,363.5619,140.464,366.3229,147.1256,371.4102,142.0148,368.6491,135.3532" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
package component-mgmt {
   class "component API" <<unit>> {
   	comp_new(sof_ipc_comp*)
   	comp_register(comp_driver*)
   	comp_unregister(comp_driver*)
   	comp_set_state(comp_dev*, cmd)
   	...
   	sys_comp_init(void)
   }

   class comp_data {
   	list
   }
   hide comp_data methods

   "component API" -right-> comp_data : drv_get()

}
note right of comp_data
   Singleton allocated in RZONE_SYS
   by sys_comp_init()
end note

"component API" <-up- comp_driver : registers in comp_register()

comp_driver -o comp_data

hide comp_driver members
hide comp_driver methods

@enduml

PlantUML version 1.2018.06(Mon May 21 10:34:53 GMT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 10.0.1+10-Ubuntu-3ubuntu1
Operating System: Linux
OS Version: 4.4.0-43-Microsoft
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>